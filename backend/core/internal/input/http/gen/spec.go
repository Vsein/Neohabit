// Package gen provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/oapi-codegen/oapi-codegen/v2 version v2.5.1 DO NOT EDIT.
package gen

import (
	"bytes"
	"compress/gzip"
	"encoding/base64"
	"fmt"
	"net/url"
	"path"
	"strings"

	"github.com/getkin/kin-openapi/openapi3"
)

// Base64 encoded, gzipped, json marshaled Swagger object
var swaggerSpec = []string{

	"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",
	"g1k0KY5qF89KCe7yYfn/AAAA//9/jLJsmnsAAA==",
}

// GetSwagger returns the content of the embedded swagger specification file
// or error if failed to decode
func decodeSpec() ([]byte, error) {
	zipped, err := base64.StdEncoding.DecodeString(strings.Join(swaggerSpec, ""))
	if err != nil {
		return nil, fmt.Errorf("error base64 decoding spec: %w", err)
	}
	zr, err := gzip.NewReader(bytes.NewReader(zipped))
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}
	var buf bytes.Buffer
	_, err = buf.ReadFrom(zr)
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}

	return buf.Bytes(), nil
}

var rawSpec = decodeSpecCached()

// a naive cached of a decoded swagger spec
func decodeSpecCached() func() ([]byte, error) {
	data, err := decodeSpec()
	return func() ([]byte, error) {
		return data, err
	}
}

// Constructs a synthetic filesystem for resolving external references when loading openapi specifications.
func PathToRawSpec(pathToFile string) map[string]func() ([]byte, error) {
	res := make(map[string]func() ([]byte, error))
	if len(pathToFile) > 0 {
		res[pathToFile] = rawSpec
	}

	return res
}

// GetSwagger returns the Swagger specification corresponding to the generated code
// in this file. The external references of Swagger specification are resolved.
// The logic of resolving external references is tightly connected to "import-mapping" feature.
// Externally referenced files must be embedded in the corresponding golang packages.
// Urls can be supported but this task was out of the scope.
func GetSwagger() (swagger *openapi3.T, err error) {
	resolvePath := PathToRawSpec("")

	loader := openapi3.NewLoader()
	loader.IsExternalRefsAllowed = true
	loader.ReadFromURIFunc = func(loader *openapi3.Loader, url *url.URL) ([]byte, error) {
		pathToFile := url.String()
		pathToFile = path.Clean(pathToFile)
		getSpec, ok := resolvePath[pathToFile]
		if !ok {
			err1 := fmt.Errorf("path not found: %s", pathToFile)
			return nil, err1
		}
		return getSpec()
	}
	var specData []byte
	specData, err = rawSpec()
	if err != nil {
		return
	}
	swagger, err = loader.LoadFromData(specData)
	if err != nil {
		return
	}
	return
}
