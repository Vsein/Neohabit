// Package gen provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/oapi-codegen/oapi-codegen/v2 version v2.5.1 DO NOT EDIT.
package gen

import (
	"bytes"
	"compress/gzip"
	"encoding/base64"
	"fmt"
	"net/url"
	"path"
	"strings"

	"github.com/getkin/kin-openapi/openapi3"
)

// Base64 encoded, gzipped, json marshaled Swagger object
var swaggerSpec = []string{

	"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",
	"Z6UCd347/38AAAD//8UKubegeAAA",
}

// GetSwagger returns the content of the embedded swagger specification file
// or error if failed to decode
func decodeSpec() ([]byte, error) {
	zipped, err := base64.StdEncoding.DecodeString(strings.Join(swaggerSpec, ""))
	if err != nil {
		return nil, fmt.Errorf("error base64 decoding spec: %w", err)
	}
	zr, err := gzip.NewReader(bytes.NewReader(zipped))
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}
	var buf bytes.Buffer
	_, err = buf.ReadFrom(zr)
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}

	return buf.Bytes(), nil
}

var rawSpec = decodeSpecCached()

// a naive cached of a decoded swagger spec
func decodeSpecCached() func() ([]byte, error) {
	data, err := decodeSpec()
	return func() ([]byte, error) {
		return data, err
	}
}

// Constructs a synthetic filesystem for resolving external references when loading openapi specifications.
func PathToRawSpec(pathToFile string) map[string]func() ([]byte, error) {
	res := make(map[string]func() ([]byte, error))
	if len(pathToFile) > 0 {
		res[pathToFile] = rawSpec
	}

	return res
}

// GetSwagger returns the Swagger specification corresponding to the generated code
// in this file. The external references of Swagger specification are resolved.
// The logic of resolving external references is tightly connected to "import-mapping" feature.
// Externally referenced files must be embedded in the corresponding golang packages.
// Urls can be supported but this task was out of the scope.
func GetSwagger() (swagger *openapi3.T, err error) {
	resolvePath := PathToRawSpec("")

	loader := openapi3.NewLoader()
	loader.IsExternalRefsAllowed = true
	loader.ReadFromURIFunc = func(loader *openapi3.Loader, url *url.URL) ([]byte, error) {
		pathToFile := url.String()
		pathToFile = path.Clean(pathToFile)
		getSpec, ok := resolvePath[pathToFile]
		if !ok {
			err1 := fmt.Errorf("path not found: %s", pathToFile)
			return nil, err1
		}
		return getSpec()
	}
	var specData []byte
	specData, err = rawSpec()
	if err != nil {
		return
	}
	swagger, err = loader.LoadFromData(specData)
	if err != nil {
		return
	}
	return
}
