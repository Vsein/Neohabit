// Package gen provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/oapi-codegen/oapi-codegen/v2 version v2.5.1 DO NOT EDIT.
package gen

import (
	"bytes"
	"compress/gzip"
	"encoding/base64"
	"fmt"
	"net/url"
	"path"
	"strings"

	"github.com/getkin/kin-openapi/openapi3"
)

// Base64 encoded, gzipped, json marshaled Swagger object
var swaggerSpec = []string{

	"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",
	"wSyaFEe1i2elBHf5sPx/AAAA//8eYivOmnsAAA==",
}

// GetSwagger returns the content of the embedded swagger specification file
// or error if failed to decode
func decodeSpec() ([]byte, error) {
	zipped, err := base64.StdEncoding.DecodeString(strings.Join(swaggerSpec, ""))
	if err != nil {
		return nil, fmt.Errorf("error base64 decoding spec: %w", err)
	}
	zr, err := gzip.NewReader(bytes.NewReader(zipped))
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}
	var buf bytes.Buffer
	_, err = buf.ReadFrom(zr)
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}

	return buf.Bytes(), nil
}

var rawSpec = decodeSpecCached()

// a naive cached of a decoded swagger spec
func decodeSpecCached() func() ([]byte, error) {
	data, err := decodeSpec()
	return func() ([]byte, error) {
		return data, err
	}
}

// Constructs a synthetic filesystem for resolving external references when loading openapi specifications.
func PathToRawSpec(pathToFile string) map[string]func() ([]byte, error) {
	res := make(map[string]func() ([]byte, error))
	if len(pathToFile) > 0 {
		res[pathToFile] = rawSpec
	}

	return res
}

// GetSwagger returns the Swagger specification corresponding to the generated code
// in this file. The external references of Swagger specification are resolved.
// The logic of resolving external references is tightly connected to "import-mapping" feature.
// Externally referenced files must be embedded in the corresponding golang packages.
// Urls can be supported but this task was out of the scope.
func GetSwagger() (swagger *openapi3.T, err error) {
	resolvePath := PathToRawSpec("")

	loader := openapi3.NewLoader()
	loader.IsExternalRefsAllowed = true
	loader.ReadFromURIFunc = func(loader *openapi3.Loader, url *url.URL) ([]byte, error) {
		pathToFile := url.String()
		pathToFile = path.Clean(pathToFile)
		getSpec, ok := resolvePath[pathToFile]
		if !ok {
			err1 := fmt.Errorf("path not found: %s", pathToFile)
			return nil, err1
		}
		return getSpec()
	}
	var specData []byte
	specData, err = rawSpec()
	if err != nil {
		return
	}
	swagger, err = loader.LoadFromData(specData)
	if err != nil {
		return
	}
	return
}
